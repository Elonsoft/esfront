{"version":3,"file":"LinearProgress-LinearProgress-stories.6dcf40c9.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;AAgCA;;;;;;;;;;;;;;;AAiDA;;AAkGA;AAIA;;AAwCA;AAKA","sources":["webpack://@esfront/react/./src/components/LinearProgress/LinearProgress.tsx"],"sourcesContent":["import { forwardRef } from 'react';\n\nimport { LinearProgressProps } from './LinearProgress.types';\n\nimport clsx from 'clsx';\nimport { getLinearProgressUtilityClass } from './LinearProgress.classes';\n\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\n\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport { css, keyframes } from '@mui/system';\nimport { capitalize } from '@mui/material';\n\nconst TRANSITION_DURATION = 4;\n\nconst indeterminate1Keyframe = keyframes`\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n`;\n\nconst indeterminate2Keyframe = keyframes`\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n`;\n\ntype LinearProgressOwnerState = {\n  classes?: LinearProgressProps['classes'];\n  variant: NonNullable<LinearProgressProps['variant']>;\n  color: NonNullable<LinearProgressProps['color']>;\n  width: NonNullable<LinearProgressProps['width']>;\n};\n\nconst useUtilityClasses = (ownerState: LinearProgressOwnerState) => {\n  const { classes, variant, color } = ownerState;\n\n  const slots = {\n    root: ['root', `color${capitalize(color)}`, variant],\n    dashed: ['dashed', `dashedColor${capitalize(color)}`],\n    bar1: [\n      'bar',\n      `barColor${capitalize(color)}`,\n      variant === 'indeterminate' && 'bar1Indeterminate',\n      variant === 'determinate' && 'bar1Determinate',\n      variant === 'buffer' && 'bar1Buffer',\n    ],\n    bar2: [\n      'bar',\n      variant !== 'buffer' && `barColor${capitalize(color)}`,\n      variant === 'buffer' && `color${capitalize(color)}`,\n      variant === 'indeterminate' && 'bar2Indeterminate',\n      variant === 'buffer' && 'bar2Buffer',\n    ],\n  };\n\n  return composeClasses(slots, getLinearProgressUtilityClass, classes);\n};\n\nconst LinearProgressRoot = styled('span', {\n  name: 'ESLinearProgress',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const { ownerState } = props;\n\n    return [styles.root, styles[`color${capitalize(ownerState.color)}`], styles[ownerState.variant]];\n  },\n})<{ ownerState: LinearProgressOwnerState }>(({ ownerState, theme }) => ({\n  position: 'relative',\n  overflow: 'hidden',\n  display: 'block',\n  height: `${ownerState.width}px`,\n  borderRadius: `${ownerState.width / 2}px`,\n  zIndex: 0,\n  '@media print': {\n    colorAdjust: 'exact',\n  },\n  backgroundColor: theme.vars.palette.monoA.A200,\n  ...(ownerState.color === 'inherit' &&\n    ownerState.variant !== 'buffer' && {\n      backgroundColor: 'none',\n      '&::before': {\n        content: '\"\"',\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'transparent',\n        opacity: 0.3,\n      },\n    }),\n  ...(ownerState.variant === 'buffer' && { backgroundColor: 'transparent' }),\n}));\n\nconst LinearProgressDashed = styled('span', {\n  name: 'ESLinearProgress',\n  slot: 'Dashed',\n  overridesResolver: (props, styles) => {\n    const { ownerState } = props;\n\n    return [styles.dashed, styles[`dashedColor${capitalize(ownerState.color)}`]];\n  },\n})<{ ownerState: LinearProgressOwnerState }>(({ ownerState, theme }) => {\n  const backgroundColor = theme.vars.palette.monoA.A200;\n\n  return {\n    position: 'absolute',\n    marginTop: 0,\n    height: '100%',\n    width: '100%',\n    ...(ownerState.color === 'inherit' && {\n      opacity: 0.3,\n    }),\n    backgroundImage: `radial-gradient(${backgroundColor} 0%, ${backgroundColor} 20%, transparent 0%)`,\n    backgroundSize: `${ownerState.width * 3}px ${ownerState.width * 3}px`,\n    backgroundPosition: `0 ${ownerState.width * 2}px`,\n  };\n});\n\nconst LinearProgressBar1 = styled('span', {\n  name: 'ESLinearProgress',\n  slot: 'Bar1',\n  overridesResolver: (props, styles) => {\n    const { ownerState } = props;\n\n    return [\n      styles.bar,\n      styles[`barColor${capitalize(ownerState.color)}`],\n      (ownerState.variant === 'indeterminate' || ownerState.variant === 'query') && styles.bar1Indeterminate,\n      ownerState.variant === 'determinate' && styles.bar1Determinate,\n      ownerState.variant === 'buffer' && styles.bar1Buffer,\n    ];\n  },\n})<{ ownerState: LinearProgressOwnerState }>(\n  ({ ownerState, theme }) => ({\n    width: '100%',\n    position: 'absolute',\n    left: 0,\n    bottom: 0,\n    top: 0,\n    transition: 'transform 0.2s linear',\n    transformOrigin: 'left',\n    borderRadius: `${ownerState.width / 2}px`,\n    backgroundColor: ownerState.color === 'inherit' ? 'currentColor' : theme.vars.palette[ownerState.color][300],\n    ...(ownerState.variant === 'determinate' && {\n      transition: `transform .${TRANSITION_DURATION}s linear`,\n    }),\n    ...(ownerState.variant === 'buffer' && {\n      zIndex: 1,\n      transition: `transform .${TRANSITION_DURATION}s linear`,\n    }),\n  }),\n  ({ ownerState }) =>\n    ownerState.variant === 'indeterminate' &&\n    css`\n      width: auto;\n      animation: ${indeterminate1Keyframe} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    `\n);\n\nconst LinearProgressBar2 = styled('span', {\n  name: 'ESLinearProgress',\n  slot: 'Bar2',\n  overridesResolver: (props, styles) => {\n    const { ownerState } = props;\n\n    return [\n      styles.bar,\n      styles[`barColor${capitalize(ownerState.color)}`],\n      (ownerState.variant === 'indeterminate' || ownerState.variant === 'query') && styles.bar2Indeterminate,\n      ownerState.variant === 'buffer' && styles.bar2Buffer,\n    ];\n  },\n})<{ ownerState: LinearProgressOwnerState }>(\n  ({ ownerState, theme }) => ({\n    width: '100%',\n    position: 'absolute',\n    left: 0,\n    bottom: 0,\n    top: 0,\n    transition: 'transform 0.2s linear',\n    transformOrigin: 'right',\n    borderRadius: `${ownerState.width / 2}px`,\n\n    ...(ownerState.variant === 'determinate' && {\n      backgroundColor: ownerState.color === 'inherit' ? 'currentColor' : theme.vars.palette[ownerState.color].A400,\n    }),\n\n    ...(ownerState.variant === 'buffer' && {\n      backgroundColor: theme.vars.palette.monoA.A200,\n    }),\n\n    ...(ownerState.variant !== 'indeterminate' && {\n      transition: `transform .${TRANSITION_DURATION}s linear`,\n    }),\n  }),\n  ({ ownerState }) =>\n    ownerState.variant === 'indeterminate' &&\n    css`\n      width: auto;\n      animation: ${indeterminate2Keyframe} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    `\n);\n\n/** Express an unspecified wait time or display the length of a process. */\nexport const LinearProgress = forwardRef<HTMLButtonElement, LinearProgressProps>(function LinearProgress(\n  inProps: LinearProgressProps,\n  ref\n) {\n  const props = useThemeProps({ props: inProps, name: 'ESLinearProgress' });\n\n  const { className, width = 4, color = 'primary', value, valueBuffer, variant = 'indeterminate', ...other } = props;\n\n  const ownerState = {\n    ...props,\n    color,\n    variant,\n    width,\n  };\n\n  const classes = useUtilityClasses(ownerState);\n\n  const rootProps = {};\n  const inlineStyles = { bar1: {}, bar2: {}, dashed: {} };\n\n  if (variant === 'determinate' || variant === 'buffer') {\n    if (value !== undefined) {\n      if (value <= 100) {\n        const transform = value - 100;\n        inlineStyles.bar1 = { transform: `translateX(${transform}%)` };\n      }\n    }\n\n    if (valueBuffer !== undefined) {\n      if (valueBuffer <= 100) {\n        const transform = (valueBuffer || 0) - 100;\n        inlineStyles.bar2 = { transform: `translateX(${transform}%)` };\n      }\n    }\n  }\n\n  if (variant === 'buffer') {\n    if (value !== undefined) {\n      const transform = value;\n      inlineStyles.dashed = { transform: `translateX(${transform}%)` };\n    }\n\n    if (valueBuffer !== undefined) {\n      const transform = valueBuffer;\n      inlineStyles.dashed = { transform: `translateX(${transform}%)` };\n    }\n  }\n\n  return (\n    <LinearProgressRoot\n      className={clsx(classes.root, className)}\n      ownerState={ownerState}\n      role=\"progressbar\"\n      {...rootProps}\n      ref={ref}\n      {...other}\n    >\n      {variant === 'buffer' ? (\n        <LinearProgressDashed className={classes.dashed} ownerState={ownerState} style={inlineStyles.dashed} />\n      ) : null}\n      <LinearProgressBar1 className={classes.bar1} ownerState={ownerState} style={inlineStyles.bar1} />\n      {valueBuffer && <LinearProgressBar2 className={classes.bar2} ownerState={ownerState} style={inlineStyles.bar2} />}\n    </LinearProgressRoot>\n  );\n});\n"],"names":[],"sourceRoot":""}