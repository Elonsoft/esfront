import{a as p,b as io,_ as lo}from"./useThemeProps-DJft-tfL.js";import{r as h}from"./index-DIDRz_s2.js";import{c as q}from"./clsx-B-dksMZM.js";import{g as ao,a as co,s as G,c as po}from"./generateUtilityClasses-D4qQEpRV.js";import{j as w}from"./jsx-runtime-BoZ7yaty.js";import{g as bo}from"./getScrollbarSize-Bqq2hMjQ.js";import{o as D}from"./ownerDocument-DW-IO8s5.js";import{o as X}from"./ownerWindow-HkKU3E4x.js";import{u as xo}from"./useForkRef-B4JCUkpP.js";import{u as eo}from"./useEventCallback-B5h_k30D.js";import{c as to}from"./createChainedFunction-BO_9K8Jh.js";import{e as ko,u as no}from"./useSlotProps-Dpc6KwLu.js";import{P as vo}from"./Portal-DAw-RMf5.js";import{F as Po}from"./FocusTrap-D5YxnQCr.js";import{F as Ro}from"./Fade-CJiQNbBq.js";function Eo(o){const e=D(o);return e.body===o?X(o).innerWidth>e.documentElement.clientWidth:o.scrollHeight>o.clientHeight}function H(o,e){e?o.setAttribute("aria-hidden","true"):o.removeAttribute("aria-hidden")}function so(o){return parseInt(X(o).getComputedStyle(o).paddingRight,10)||0}function yo(o){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(o.tagName)!==-1,t=o.tagName==="INPUT"&&o.getAttribute("type")==="hidden";return n||t}function ro(o,e,n,t,i){const s=[e,n,...t];[].forEach.call(o.children,r=>{const d=s.indexOf(r)===-1,c=!yo(r);d&&c&&H(r,i)})}function Y(o,e){let n=-1;return o.some((t,i)=>e(t)?(n=i,!0):!1),n}function Co(o,e){const n=[],t=o.container;if(!e.disableScrollLock){if(Eo(t)){const r=bo(D(t));n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${so(t)+r}px`;const d=D(t).querySelectorAll(".mui-fixed");[].forEach.call(d,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${so(c)+r}px`})}let s;if(t.parentNode instanceof DocumentFragment)s=D(t).body;else{const r=t.parentElement,d=X(t);s=(r==null?void 0:r.nodeName)==="HTML"&&d.getComputedStyle(r).overflowY==="scroll"?r:t}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:r,property:d})=>{s?r.style.setProperty(d,s):r.style.removeProperty(d)})}}function To(o){const e=[];return[].forEach.call(o.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Mo{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let t=this.modals.indexOf(e);if(t!==-1)return t;t=this.modals.length,this.modals.push(e),e.modalRef&&H(e.modalRef,!1);const i=To(n);ro(n,e.mount,e.modalRef,i,!0);const s=Y(this.containers,r=>r.container===n);return s!==-1?(this.containers[s].modals.push(e),t):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),t)}mount(e,n){const t=Y(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[t];i.restore||(i.restore=Co(i,n))}remove(e,n=!0){const t=this.modals.indexOf(e);if(t===-1)return t;const i=Y(this.containers,r=>r.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(t,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&H(e.modalRef,n),ro(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const r=s.modals[s.modals.length-1];r.modalRef&&H(r.modalRef,!1)}return t}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function So(o){return typeof o=="function"?o():o}function wo(o){return o?o.props.hasOwnProperty("in"):!1}const Bo=new Mo;function No(o){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:t=!1,manager:i=Bo,closeAfterTransition:s=!1,onTransitionEnter:r,onTransitionExited:d,children:c,onClose:m,open:g,rootRef:P}=o,R=h.useRef({}),E=h.useRef(null),u=h.useRef(null),T=xo(u,P),[B,y]=h.useState(!g),k=wo(c);let b=!0;(o["aria-hidden"]==="false"||o["aria-hidden"]===!1)&&(b=!1);const C=()=>D(E.current),f=()=>(R.current.modalRef=u.current,R.current.mount=E.current,R.current),N=()=>{i.mount(f(),{disableScrollLock:t}),u.current&&(u.current.scrollTop=0)},I=eo(()=>{const a=So(e)||C().body;i.add(f(),a),u.current&&N()}),O=h.useCallback(()=>i.isTopModal(f()),[i]),L=eo(a=>{E.current=a,a&&(g&&O()?N():u.current&&H(u.current,b))}),v=h.useCallback(()=>{i.remove(f(),b)},[b,i]);h.useEffect(()=>()=>{v()},[v]),h.useEffect(()=>{g?I():(!k||!s)&&v()},[g,v,k,s,I]);const $=a=>l=>{var x;(x=a.onKeyDown)==null||x.call(a,l),!(l.key!=="Escape"||l.which===229||!O())&&(n||(l.stopPropagation(),m&&m(l,"escapeKeyDown")))},j=a=>l=>{var x;(x=a.onClick)==null||x.call(a,l),l.target===l.currentTarget&&m&&m(l,"backdropClick")};return{getRootProps:(a={})=>{const l=ko(o);delete l.onTransitionEnter,delete l.onTransitionExited;const x=p({},l,a);return p({role:"presentation"},x,{onKeyDown:$(x),ref:T})},getBackdropProps:(a={})=>{const l=a;return p({"aria-hidden":!0},l,{onClick:j(l),open:g})},getTransitionProps:()=>{const a=()=>{y(!1),r&&r()},l=()=>{y(!0),d&&d(),s&&v()};return{onEnter:to(a,c==null?void 0:c.props.onEnter),onExited:to(l,c==null?void 0:c.props.onExited)}},rootRef:T,portalRef:L,isTopModal:O,exited:B,hasTransition:k}}function Io(o){return co("MuiBackdrop",o)}const ne=ao("MuiBackdrop",["root","invisible"]),Oo=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Ao=o=>{const{classes:e,invisible:n}=o;return po({root:["root",n&&"invisible"]},Io,e)},Fo=G("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:n}=o;return[e.root,n.invisible&&e.invisible]}})(({ownerState:o})=>p({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},o.invisible&&{backgroundColor:"transparent"})),_o=h.forwardRef(function(e,n){var t,i,s;const r=io({props:e,name:"MuiBackdrop"}),{children:d,className:c,component:m="div",components:g={},componentsProps:P={},invisible:R=!1,open:E,slotProps:u={},slots:T={},TransitionComponent:B=Ro,transitionDuration:y}=r,k=lo(r,Oo),b=p({},r,{component:m,invisible:R}),C=Ao(b),f=(t=u.root)!=null?t:P.root;return w.jsx(B,p({in:E,timeout:y},k,{children:w.jsx(Fo,p({"aria-hidden":!0},f,{as:(i=(s=T.root)!=null?s:g.Root)!=null?i:m,className:q(C.root,c,f==null?void 0:f.className),ownerState:p({},b,f==null?void 0:f.ownerState),classes:C,ref:n,children:d}))}))});function Do(o){return co("MuiModal",o)}ao("MuiModal",["root","hidden","backdrop"]);const Ho=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Lo=o=>{const{open:e,exited:n,classes:t}=o;return po({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},Do,t)},$o=G("div",{name:"MuiModal",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:n}=o;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:o,ownerState:e})=>p({position:"fixed",zIndex:(o.vars||o).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),jo=G(_o,{name:"MuiModal",slot:"Backdrop",overridesResolver:(o,e)=>e.backdrop})({zIndex:-1}),se=h.forwardRef(function(e,n){var t,i,s,r,d,c;const m=io({name:"MuiModal",props:e}),{BackdropComponent:g=jo,BackdropProps:P,className:R,closeAfterTransition:E=!1,children:u,container:T,component:B,components:y={},componentsProps:k={},disableAutoFocus:b=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:f=!1,disablePortal:N=!1,disableRestoreFocus:I=!1,disableScrollLock:O=!1,hideBackdrop:L=!1,keepMounted:v=!1,onBackdropClick:$,open:j,slotProps:A,slots:F}=m,J=lo(m,Ho),a=p({},m,{closeAfterTransition:E,disableAutoFocus:b,disableEnforceFocus:C,disableEscapeKeyDown:f,disablePortal:N,disableRestoreFocus:I,disableScrollLock:O,hideBackdrop:L,keepMounted:v}),{getRootProps:l,getBackdropProps:x,getTransitionProps:uo,portalRef:fo,isTopModal:mo,exited:Q,hasTransition:V}=No(p({},a,{rootRef:n})),_=p({},a,{exited:Q}),M=Lo(_),K={};if(u.props.tabIndex===void 0&&(K.tabIndex="-1"),V){const{onEnter:S,onExited:U}=uo();K.onEnter=S,K.onExited=U}const Z=(t=(i=F==null?void 0:F.root)!=null?i:y.Root)!=null?t:$o,oo=(s=(r=F==null?void 0:F.backdrop)!=null?r:y.Backdrop)!=null?s:g,W=(d=A==null?void 0:A.root)!=null?d:k.root,z=(c=A==null?void 0:A.backdrop)!=null?c:k.backdrop,ho=no({elementType:Z,externalSlotProps:W,externalForwardedProps:J,getSlotProps:l,additionalProps:{ref:n,as:B},ownerState:_,className:q(R,W==null?void 0:W.className,M==null?void 0:M.root,!_.open&&_.exited&&(M==null?void 0:M.hidden))}),go=no({elementType:oo,externalSlotProps:z,additionalProps:P,getSlotProps:S=>x(p({},S,{onClick:U=>{$&&$(U),S!=null&&S.onClick&&S.onClick(U)}})),className:q(z==null?void 0:z.className,P==null?void 0:P.className,M==null?void 0:M.backdrop),ownerState:_});return!v&&!j&&(!V||Q)?null:w.jsx(vo,{ref:fo,container:T,disablePortal:N,children:w.jsxs(Z,p({},ho,{children:[!L&&g?w.jsx(oo,p({},go)):null,w.jsx(Po,{disableEnforceFocus:C,disableAutoFocus:b,disableRestoreFocus:I,isEnabled:mo,open:j,children:h.cloneElement(u,K)})]}))})});export{_o as B,se as M,ne as b};
