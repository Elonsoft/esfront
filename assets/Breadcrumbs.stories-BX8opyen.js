import{j as r}from"./jsx-runtime-BoZ7yaty.js";import{c as m}from"./clsx.m-C7bORDfW.js";import{g as O,a as z,s as c,c as D}from"./styled-B0X8gopH.js";import{u as H}from"./useThemeProps-DTzdApbH.js";import{I as Q,a as X}from"./IconDotsHorizontal2W300-BaRsWTjF.js";import{T as v}from"./Typography-CtYhM0r3.js";import{T as G}from"./TooltipEllipsis-CCmCStzj.js";import{B as Y,b as R}from"./Button-Bw7cy9Im.js";import{s as J}from"./SvgIcon.classes-C7Fm2IhD.js";import{b as q}from"./ButtonBase-C33Z4or-.js";import{r as p}from"./index-DIDRz_s2.js";import{u as Z}from"./useEnhancedEffect-BGNjlb7u.js";import{u as ee}from"./useResizeObserver-BNbozrrH.js";import{M as te,m as re}from"./Menu-DtX3jm--.js";import{p as oe}from"./Popover-C64DOLfh.js";import{M as se}from"./MenuItem-D4peanbb.js";import{B as ne}from"./Box-Og3xCN3M.js";import"./identifier-DA8c-tJk.js";import"./useTheme-B2nYkSwK.js";import"./SvgIcon-BU7TD1_e.js";import"./memoTheme-CJcpijc4.js";import"./index-BubGiXqi.js";import"./extendSxProp-ftMfNaJf.js";import"./emotion-react.browser.esm-BV4sMx87.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./DefaultPropsProvider-Di_N6kFi.js";import"./Tooltip-CQ-Pr0yE.js";import"./Fade-D0jgUazQ.js";import"./useTheme-D4EsW5Cf.js";import"./getReactElementRef-BCGM00pR.js";import"./TransitionGroupContext-8frXp1f-.js";import"./index-BqLR6Ykc.js";import"./_commonjsHelpers-gnU0ypJ3.js";import"./index-B9nU-LZm.js";import"./useForkRef-Cmn-Dh7x.js";import"./useTimeout-BgqVTnbA.js";import"./useControlled-BX5XFdR0.js";import"./useId-DHFVogFr.js";import"./useEvent-B4f6aq-e.js";import"./useForkRef-DJnV46t9.js";import"./appendOwnerState-BTP2NS_9.js";import"./Popper-CJR-SmXy.js";import"./index-CycuZXML.js";import"./ownerDocument-DW-IO8s5.js";import"./Portal-Cdjvc33M.js";import"./useSlotProps-CexWkmt_.js";import"./mergeSlotProps-fp1W1fei.js";import"./useLatest-sVqXUmVb.js";import"./useSlot-CFc0_OMk.js";import"./MenuList-qnTf9CO-.js";import"./getScrollbarSize-CaCM53D3.js";import"./ownerWindow-HkKU3E4x.js";import"./isHostComponent-DVu5iVWx.js";import"./debounce-Be36O1Ab.js";import"./Grow-xlv4EofS.js";import"./mergeSlotProps-D4lRB2Fy.js";import"./Modal-CpL86C22.js";import"./useEventCallback-B5h_k30D.js";import"./createChainedFunction-BO_9K8Jh.js";import"./FocusTrap-vTo9pgoY.js";function k(e){return z("ESBreadcrumbs",e)}const j=O("ESBreadcrumbs",["root","list","buttonMore","menu","menuItem","tooltip"]);try{k.displayName="getBreadcrumbsUtilityClass",k.__docgenInfo={description:"",displayName:"getBreadcrumbsUtilityClass",props:{}}}catch{}function A(e){return z("ESBreadcrumb",e)}const I=O("ESBreadcrumb",["root","content","separator","tooltip"]);try{A.displayName="getBreadcrumbUtilityClass",A.__docgenInfo={description:"",displayName:"getBreadcrumbUtilityClass",props:{}}}catch{}const ae=e=>{const{classes:t,disabled:o,shouldFirstShrink:i}=e;return D({root:["root",o&&"disabled",i&&"shouldFirstShrink"],content:["content"],separator:["separator"],tooltip:["tooltip"]},A,t)},ie=c(v,{name:"ESBreadcrumb",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:{disabled:o,shouldFirstShrink:i}}=e;return[t.root,o&&t.disabled,i&&t.shouldFirstShrink]}})(()=>({flexShrink:0,display:"flex",alignItems:"center",minWidth:"56px",overflow:"hidden",[`&.${j.buttonMore}`]:{minWidth:"40px"},span:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},"&:last-of-type":{minWidth:"40px",flexGrow:1,flexShrink:"1",flexBasis:"0px",[`.${I.separator}`]:{display:"none"}},variants:[{props:{shouldFirstShrink:!0},style:{"&:first-of-type":{flexShrink:"1",flexGrow:0}}},{props:{disabled:!0},style:{div:{cursor:"not-allowed",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}}]})),le=c(({className:e,...t})=>r.jsx(G,{...t,classes:{popper:e}}),{name:"ESBreadcrumb",slot:"Tooltip",overridesResolver:(e,t)=>t.tooltip})(()=>({})),pe=c(Y,{name:"ESBreadcrumb",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e})=>({[`&.${R.size300} .${q.wrapper}`]:{...e.typography.caption,padding:0},[`&.${R.root}.${I.content}`]:{padding:"0 4px",width:"100%",maxWidth:"400px","--text":e.vars.palette.monoA.A900,[`&.${q.disabled}`]:{"--text":e.vars.palette.monoA.A500,pointerEvents:"none"},[`& .${J.root}`]:{color:e.vars.palette.monoA.A500}},"&:not(:disabled):focus-visible":{outline:"none",boxShadow:`inset 0px 0px 0px 2px ${e.vars.palette.monoA[500]}`}})),me=c("div",{name:"ESBreadcrumb",slot:"Separator",overridesResolver:(e,t)=>t.separator})(({theme:e})=>({display:"flex",alignItems:"center",userSelect:"none",color:e.vars.palette.monoA.A500,[`& .${J.root}`]:{width:"16px"}})),S=e=>{const{children:t,itemContent:o,className:i,sx:b,style:N,separator:C=r.jsx(Q,{container:!0,containerWidth:"16px"}),disabled:u,position:l,shouldFirstShrink:_,...B}=H({props:e,name:"ESBreadcrumb"}),g={disabled:u,shouldFirstShrink:_,...B},a=ae(g);return r.jsxs(ie,{noWrap:!0,align:"center",className:m(a.root,i),component:"li",itemProp:l?"itemListElement":void 0,itemScope:l?!0:void 0,itemType:l?"https://schema.org/ListItem":void 0,ownerState:g,style:N,sx:b,children:[r.jsx(le,{disableInteractive:!0,className:m(a.tooltip),title:r.jsx(v,{variant:"caption",children:t}),...l?{}:{disableHoverListener:!0,disableFocusListener:!0,disableTouchListener:!0},children:({ref:T,childrenRef:E})=>r.jsx("div",{ref:T,style:{minWidth:0},children:r.jsx(pe,{className:m(a.content),color:"monoA",disabled:u,itemProp:l?"item":void 0,size:"300",...B,children:l?r.jsx("span",{ref:E,content:o,itemProp:"name",children:t}):r.jsx(r.Fragment,{children:t})})})}),!!l&&r.jsx("meta",{content:l,itemProp:"position"}),r.jsx(me,{className:m(a.separator),children:C})]})};try{S.displayName="Breadcrumb",S.__docgenInfo={description:"",displayName:"Breadcrumb",props:{component:{defaultValue:null,description:`The component used for the root node.
Either a string to use a HTML element or a component.`,name:"component",required:!0,type:{name:"ElementType<any, keyof IntrinsicElements>"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<BreadcrumbClasses> & Partial<ClassNameMap<never>>)"}},className:{defaultValue:null,description:"Class applied to the root element.",name:"className",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},disabled:{defaultValue:null,description:"If true, the breadcrumb is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},separator:{defaultValue:null,description:"The custom separator node.",name:"separator",required:!1,type:{name:"ReactNode"}},position:{defaultValue:null,description:`The breadcrumb position in the list.
@internal
@ignore`,name:"position",required:!1,type:{name:"string"}},shouldFirstShrink:{defaultValue:null,description:`Whether the first breadcrumb should shrink.
@internal
@ignore`,name:"shouldFirstShrink",required:!1,type:{name:"boolean"}},itemContent:{defaultValue:null,description:"The content for microdata schema.",name:"itemContent",required:!1,type:{name:"string"}}}}}catch{}const ce=e=>{const{classes:t}=e;return D({root:["root"],list:["list"],buttonMore:["buttonMore"],menu:["menu"],menuItem:["menuItem"],tooltip:["tooltip"]},k,t)},de=c(v,{name:"ESBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({})),ue=c("ol",{name:"ESBreadcrumbs",slot:"List",overridesResolver:(e,t)=>t.list})(({theme:e})=>({display:"flex",alignItems:"center",listStyle:"none",padding:0,margin:0,variants:[{props:{open:!0},style:{[`.${j.buttonMore}`]:{[`.${R.root}.${I.content}`]:{"--background":e.vars.palette.monoA.A50}}}}]})),he=c(te,{name:"ESBreadcrumbs",slot:"Menu",overridesResolver:(e,t)=>t.menu})(()=>({[`& .${re.list}`]:{padding:"4px 0",maxWidth:"240px"},[`.${oe.root}`]:{marginTop:"4px"}})),fe=c(({className:e,...t})=>r.jsx(G,{...t,classes:{popper:e}}),{name:"ESBreadcrumbs",slot:"Tooltip",overridesResolver:(e,t)=>t.tooltip})(()=>({})),be=c(se,{name:"ESBreadcrumbs",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})(({theme:e})=>({padding:"8px 16px",width:"100%",...e.typography.caption})),M=e=>{const{children:t,className:o,iconButtonMore:i=r.jsx(X,{}),labelButtonMore:b,sx:N,...C}=H({props:e,name:"ESBreadcrumbs"}),[u,l]=p.useState(p.Children.count(t)-1);Z(()=>{l(0)},[]);const[_,B]=p.useState(null),g=!!_,a=p.useRef(null),T=s=>{B(s.currentTarget)},E=()=>{B(null)};ee(a,()=>{if(typeof window<"u"&&a.current){let s=0;const n=a.current.querySelectorAll(`.${I.root}:not(.${j.buttonMore})`),y=a.current.querySelector(`.${j.buttonMore}`);n.forEach(d=>{d.style.display="flex",s+=d.offsetWidth}),s>a.current.offsetWidth&&(s+=y.offsetWidth);let h=1;for(;s>a.current.offsetWidth&&h<n.length-1;)s-=n[h].offsetWidth,h++;for(let d=1;d<h;d++)n[d].style.display="none";E(),l(h)}});const $={open:g,...C},x=ce($);return r.jsxs(de,{className:m(x.root,o),component:"nav",sx:N,...C,children:[r.jsx(ue,{ref:a,itemScope:!0,className:m(x.list),itemType:"https://schema.org/BreadcrumbList",ownerState:$,children:p.Children.map(t,(s,n)=>{if(!p.isValidElement(s))return null;const y=p.cloneElement(s,{position:(n+1).toString(),shouldFirstShrink:u>=p.Children.count(t)-1,style:{display:n>0&&n<u?"none":"flex"}});return r.jsxs(p.Fragment,{children:[y,n===0&&r.jsx(S,{"aria-label":b,className:m(x.buttonMore),style:{display:u>1?"flex":"none"},onClick:T,children:i})]},n)})}),r.jsx(he,{anchorEl:_,className:m(x.menu),open:g,onClose:E,children:p.Children.map(t,(s,n)=>{if(!p.isValidElement(s))return null;const{children:y,...h}=s.props;return n>=1&&n<u?r.jsx(fe,{arrow:!0,disableInteractive:!0,className:m(x.tooltip),title:r.jsx(v,{variant:"caption",children:y}),children:({ref:d,childrenRef:K})=>r.jsx(be,{ref:d,className:m(x.menuItem),size:"100",...h,children:r.jsx(v,{ref:K,noWrap:!0,children:y})})}):null})})]})};try{M.displayName="Breadcrumbs",M.__docgenInfo={description:`Breadcrumbs consist of a list of links that help a user visualize a page's location
within the hierarchical structure of a website, and allow navigation up to any of its "ancestors".`,displayName:"Breadcrumbs",props:{classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"Partial<BreadcrumbsClasses>"}},className:{defaultValue:null,description:"Class applied to the root element.",name:"className",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},iconButtonMore:{defaultValue:null,description:"Icon for the button more.",name:"iconButtonMore",required:!1,type:{name:"ReactNode"}},labelButtonMore:{defaultValue:null,description:"Text for the button more aria-label.",name:"labelButtonMore",required:!1,type:{name:"string"}}}}}catch{}const xe={en:[{name:"Home"},{name:"Catalog"},{name:"Electronics"},{name:"Tablets"},{name:"Apple"}],ru:[{name:"Главная страница"},{name:"Каталог"},{name:"Электроника"},{name:"Планшеты"},{name:"Apple"}]},_t={tags:["autodocs"],component:M,parameters:{references:["Breadcrumbs","Breadcrumb"]}},f={tags:["test-only"],render:(e,t)=>{const o=t.globals.locale||"en";return r.jsxs(M,{children:[xe[o].map((i,b)=>r.jsx(S,{component:"button",itemContent:b===0?"🏁":void 0,onClick:()=>console.info(i.name),children:i.name},i.name)),r.jsx(S,{disabled:!0,children:"iPad Pro"})]})}},w={render:(e,t)=>{var o;return r.jsxs(ne,{sx:{padding:"30px 0"},children:[(o=f.render)==null?void 0:o.call(f,e,t)," "]})}};var V,W,P;f.parameters={...f.parameters,docs:{...(V=f.parameters)==null?void 0:V.docs,source:{originalSource:`{
  tags: ['test-only'],
  render: (_args, context) => {
    const locale = (context.globals.locale || 'en') as 'en' | 'ru';
    return <Breadcrumbs>
        {BREADCRUMBS[locale].map((item, index) => <Breadcrumb key={item.name} component="button" itemContent={index === 0 ? '🏁' : undefined} onClick={() => console.info(item.name)}>
            {item.name}
          </Breadcrumb>)}

        <Breadcrumb disabled>iPad Pro</Breadcrumb>
      </Breadcrumbs>;
  }
}`,...(P=(W=f.parameters)==null?void 0:W.docs)==null?void 0:P.source}}};var F,U,L;w.parameters={...w.parameters,docs:{...(F=w.parameters)==null?void 0:F.docs,source:{originalSource:`{
  render: (args, context) => {
    return <Box sx={{
      padding: '30px 0'
    }}>{DemoBase.render?.(args, context)} </Box>;
  }
}`,...(L=(U=w.parameters)==null?void 0:U.docs)==null?void 0:L.source}}};const Et=["DemoBase","Demo"];export{w as Demo,f as DemoBase,Et as __namedExportsOrder,_t as default};
