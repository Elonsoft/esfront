import{j as k}from"./jsx-runtime-BoZ7yaty.js";import{r as l}from"./index-DIDRz_s2.js";import{c as j}from"./clsx.m-C7bORDfW.js";import{g as G,a as K,s as O,c as W}from"./styled-B0X8gopH.js";import{u as Y}from"./useThemeProps-DTzdApbH.js";import{u as Z}from"./useForkRef-DJnV46t9.js";function J(n){return K("ESButtonBase",n)}const I=G("ESButtonBase",["root","disabled","disableTouchRipple","pressed","wrapper"]);function Q(n){return K("ESTouchRipple",n)}const D=G("ESTouchRipple",["root","center","hovered","pressed"]),ee=n=>{const{classes:r}=n;return W({root:["root"]},Q,r)},te=O("div",{name:"ESTouchRipple",slot:"Root",overridesResolver:(n,r)=>r.root})(({theme:n})=>({borderRadius:"inherit",inset:0,overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,transition:n.transitions.create(["background-color"],{duration:n.transitions.duration.short}),"&::after":{content:'""',opacity:0,position:"absolute",background:"radial-gradient(closest-side, var(--pressed) 99%, transparent 100%)",transformOrigin:"center center",transition:"opacity 375ms linear"}})),z=l.forwardRef(function(r,f){const{className:u,sx:o,...p}=Y({props:r,name:"ESTouchRipple"}),w={...p},y=ee(w);return k.jsx(te,{ref:f,className:j(u,y.root),sx:o})});try{z.displayName="TouchRipple",z.__docgenInfo={description:"The TouchRipple.",displayName:"TouchRipple",props:{classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"Partial<TouchRippleClasses>"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},className:{defaultValue:null,description:"Class applied to the root element.",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ne={STANDARD:"cubic-bezier(0.2, 0, 0, 1)"},oe=800,re=150,se=.2,ae=10,ie=75,ce=.35,le="::after",ue="forwards",pe=150,de=({center:n,disabled:r,pressGrowDuration:f=oe,minimumPressDuration:u=re,...o})=>{const p=l.useRef(null),[w,y]=l.useState(!1),d=l.useRef(0),h=l.useRef(""),N=l.useRef(""),C=l.useRef(!1),c=l.useRef(0),B=l.useRef(!1),E=l.useRef(!1),R=l.useRef(void 0),x=l.useRef(null),S=({pointerType:e})=>e==="touch",P=e=>{if(r||!e.isPrimary||!e.isPrimary||R.current&&R.current.pointerId!==e.pointerId)return!1;if(e.type==="pointerenter"||e.type==="pointerleave")return!S(e);const t=e.buttons===1;return S(e)||t},v=e=>{if(!e)return{x:0,y:0};const{scrollX:t,scrollY:s}=window,{left:m,top:i}=p.current.getBoundingClientRect(),T=t+m,_=s+i,{pageX:X,pageY:H}=e;return{x:X-T,y:H-_}},A=e=>{const{height:t,width:s}=p.current.getBoundingClientRect(),m={x:(s-d.current)/2,y:(t-d.current)/2};let i;return e&&!n?i=v(e):i={x:s/2,y:t/2},i={x:i.x-d.current/2,y:i.y-d.current/2},{startPoint:i,endPoint:m}},M=()=>{if(!p.current)return;const{height:e,width:t}=p.current.getBoundingClientRect(),s=Math.max(e,t),m=Math.max(ce*s,ie),i=Math.floor(s*se),_=Math.sqrt(t**2+e**2)+ae;d.current=i,N.current=`${(_+m)/i}`,h.current=`${d.current}px`},b=e=>{var T;E.current=!1,y(!0),(T=x.current)==null||T.cancel(),M();const{startPoint:t,endPoint:s}=A(e),m=`${t.x}px, ${t.y}px`,i=`${s.x}px, ${s.y}px`;x.current=p.current.animate({top:[0,0],left:[0,0],height:[h.current,h.current],width:[h.current,h.current],transform:[`translate(${m}) scale(1)`,`translate(${i}) scale(${N.current})`]},{pseudoElement:le,duration:f,easing:ne.STANDARD,fill:ue})},g=async()=>{R.current=void 0,c.current=0;const e=x.current;let t=1/0;if(typeof(e==null?void 0:e.currentTime)=="number"?t=e.currentTime:e!=null&&e.currentTime&&(t=e.currentTime.to("ms").value),t>=u){y(!1);return}await new Promise(s=>{setTimeout(s,u-t)}),x.current===e&&y(!1)},$=e=>{const{pageX:t,pageY:s}=e,{top:m,left:i,bottom:T,right:_}=p.current.getBoundingClientRect();return t>=i&&t<=_&&s>=m&&s<=T};return{ref:p,pressed:w,bind:{onClick:e=>{var t;if((t=o.onClick)==null||t.call(o,e),!r){if(c.current===3){g();return}c.current===0&&E.current&&(b(),g())}},onContextMenu:e=>{var t;(t=o.onContextMenu)==null||t.call(o,e),!r&&(B.current=!0,g())},onPointerCancel:e=>{P(e)&&g()},onPointerUp:e=>{var t;if((t=o.onPointerUp)==null||t.call(o,e),!!P(e)){if(c.current===2){c.current=3;return}c.current===1&&(c.current=3,b(R.current))}},onPointerDown:async e=>{var t;if((t=o.onPointerDown)==null||t.call(o,e),!!P(e)){if(e.persist(),R.current=e,!S(e)){c.current=3,b(e);return}B.current&&!$(e)||(B.current=!1,c.current=1,await new Promise(s=>{setTimeout(s,pe)}),c.current===1&&(c.current=2,b(e)))}},onPointerLeave:e=>{var t;(t=o.onPointerLeave)==null||t.call(o,e),P(e)&&(C.current=!1,c.current!==0&&g())},onKeyDown:e=>{var t;(t=o.onKeyDown)==null||t.call(o,e),(e.key===" "||e.key==="Enter")&&(E.current=!0)}}}},fe=n=>{const{classes:r,disabled:f,disableTouchRipple:u,pressed:o}=n;return W({root:["root",f&&"disabled",u&&"disableTouchRipple",o&&"pressed"],wrapper:["wrapper"]},J,r)},me=O("button",{name:"ESButtonBase",slot:"Root",overridesResolver:(n,r)=>{const{ownerState:{disabled:f,disableTouchRipple:u,pressed:o}}=n;return[r.root,f&&r.disabled,u&&r.disableTouchRipple,o&&r.disabled]}})(({theme:n})=>({"--background":"transparent","--text":n.vars.palette.monoB[500],"--hovered":n.vars.palette.monoB.A50,"--pressed":n.vars.palette.monoB.A150,display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",overflow:"hidden","&::-moz-focus-inner":{borderStyle:"none"},backgroundColor:"var(--background)",color:"var(--text)",flexShrink:0,[`&.${I.disabled}:not(button)`]:{pointerEvents:"none"},"@media (hover: hover)":{[`&:not(.${I.disabled}):hover > .${D.root}`]:{backgroundColor:"var(--hovered)"}},[`&:not(.${I.disabled}):focus-visible`]:{outline:`2px solid ${n.vars.palette.monoA[500]}`},[`&.${I.pressed} > .${D.root}::after`]:{opacity:1,transitionDuration:"105ms"},[`&.${I.disableTouchRipple}`]:{[`& > .${D.root}::after`]:{inset:0,background:"var(--pressed)",transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short})},[`&:active > .${D.root}::after`]:{opacity:1}},"@media print":{colorAdjust:"exact"}})),he=O("div",{name:"ESButtonBase",slot:"Wrapper",overridesResolver:(n,r)=>r.wrapper})(()=>({display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",zIndex:1})),V=l.forwardRef(function(r,f){const{component:u,children:o,classes:p,className:w,sx:y,disabled:d,disableTouchRipple:h,type:N="button",onClick:C,onContextMenu:c,onPointerCancel:B,onPointerDown:E,onPointerUp:R,onPointerLeave:x,onKeyDown:S,TouchRippleProps:P,...v}=Y({props:r,name:"ESButtonBase"}),A=l.useRef(null),M=Z(f,A),b=()=>{const a=A.current;return a?u&&u!=="button"&&!(a.tagName==="A"&&a.href):!1},g=a=>{a.target===a.currentTarget&&b()&&a.key===" "&&a.preventDefault(),S&&S(a),a.target===a.currentTarget&&b()&&a.key==="Enter"&&!d&&(a.preventDefault(),C&&C(a))},{ref:$,pressed:q,bind:L}=de({...P,disabled:d||h,onClick:C,onContextMenu:c,onPointerCancel:B,onPointerDown:E,onPointerUp:R,onPointerLeave:x,onKeyDown:g}),U=fe({classes:p,disabled:d,disableTouchRipple:h,pressed:q});return k.jsxs(me,{ref:M,as:u,className:j(w,U.root),disabled:d,sx:y,type:N,...v,...L,children:[k.jsx(he,{className:U.wrapper,children:o}),k.jsx(z,{ref:$})]})});try{V.displayName="ButtonBase",V.__docgenInfo={description:"The Button allows users to take actions, and make choices, with a single tap.",displayName:"ButtonBase",props:{component:{defaultValue:null,description:`The component used for the root node.
Either a string to use a HTML element or a component.`,name:"component",required:!0,type:{name:"ElementType<any, keyof IntrinsicElements>"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"(Partial<ButtonBaseClasses> & Partial<ClassNameMap<never>>)"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},disabled:{defaultValue:null,description:"If true, the component is disabled.",name:"disabled",required:!1,type:{name:"boolean"}},disableTouchRipple:{defaultValue:null,description:"If true, the touch ripple effect is disabled.",name:"disableTouchRipple",required:!1,type:{name:"boolean"}},TouchRippleProps:{defaultValue:null,description:"Props applied to the touch ripple component.",name:"TouchRippleProps",required:!1,type:{name:'Partial<Pick<TouchRippleParams, "center" | "pressGrowDuration" | "minimumPressDuration">>'}}}}}catch{}export{V as B,I as b,D as t};
