import{j as s}from"./jsx-runtime-BoZ7yaty.js";import{r}from"./index-DIDRz_s2.js";import{c as ve}from"./clsx.m-C7bORDfW.js";import{a as ye,g as Ce,s as g,c as xe}from"./generateUtilityClasses-D4qQEpRV.js";import{u as Se}from"./use-gesture-react.esm-DUM9Ytuw.js";import{b as we,i as $}from"./useThemeProps-DJft-tfL.js";import{F as Be}from"./Fade-CJiQNbBq.js";import{u as Te}from"./useId-Dx6QqNEU.js";import{u as je}from"./useWindowEventListener-DbdMtNlQ.js";import{u as ke}from"./useResizeObserver-BNbozrrH.js";import{u as Pe}from"./useIntersectionObserver-Bn-bajRp.js";import{S as qe}from"./Slide-Dg4AG0xm.js";import{M as We,B as Re}from"./Modal-RUXrZPLp.js";import{B as D}from"./Button-Kloa1MkC.js";import{D as Me,a as De,b as Ee}from"./DialogTitle-CLqGMF2f.js";import{T as Oe}from"./Typography-BriYb5H6.js";import"./_commonjsHelpers-gnU0ypJ3.js";import"./useTheme-LlnDz48U.js";import"./utils-Cq59Lonh.js";import"./TransitionGroupContext-DaV7NuBA.js";import"./index-BqLR6Ykc.js";import"./index-B9nU-LZm.js";import"./useForkRef-B4JCUkpP.js";import"./useLatest-sVqXUmVb.js";import"./debounce-Be36O1Ab.js";import"./ownerWindow-HkKU3E4x.js";import"./ownerDocument-DW-IO8s5.js";import"./clsx-B-dksMZM.js";import"./getScrollbarSize-Bqq2hMjQ.js";import"./useEventCallback-B5h_k30D.js";import"./useEnhancedEffect-BGNjlb7u.js";import"./createChainedFunction-BO_9K8Jh.js";import"./useSlotProps-Dpc6KwLu.js";import"./appendOwnerState-B9NMWNaQ.js";import"./Portal-DAw-RMf5.js";import"./FocusTrap-D5YxnQCr.js";import"./ButtonBase-B9dD5NpA.js";import"./useForkRef-DJnV46t9.js";import"./SvgIcon.classes-CqsHNf3G.js";import"./useStuckSentinel-BJlxRgiq.js";function He(e){return ye("ESBottomSheet",e)}Ce("ESBottomSheet",["root","wrapper","container","content","paper"]);const Ve=r.createContext(null),Ae=e=>{const{classes:t}=e;return xe({root:["root"],wrapper:["wrapper"],container:["container"],content:["content"],paper:["paper"]},He,t)},Ie=g(We,{name:"ESBottomSheet",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Ne=g(Re,{name:"ESBottomSheet",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})(({theme:e})=>({zIndex:-1,backgroundColor:e.vars.palette.overlay[700]})),_e=g("div",{name:"ESBottomSheet",slot:"Container",overridesResolver:(e,t)=>t.container})({outline:0,height:"100%",overflowX:"hidden",overflowY:"scroll",textAlign:"center",overscrollBehavior:"none",scrollbarGutter:"stable","&, & *":{touchAction:"none"},"&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"},"@media print":{height:"auto"},variants:[{props:{isLastSnapPoint:!0},style:{"&, & *":{touchAction:"auto"}}}]}),ze=g("div",{name:"ESBottomSheet",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({verticalAlign:"middle",position:"relative",width:"100%",minHeight:"100%",display:"inline-flex",justifyContent:"center",margin:0,overflow:"visible",variants:[{props:{align:"flex-end"},style:{alignItems:"flex-end"}},{props:{align:"stretch"},style:{alignItems:"stretch"}}]}),Fe=g("div",{name:"ESBottomSheet",slot:"Content",overridesResolver:(e,t)=>t.content})(()=>({position:"relative",overflow:"visible",display:"inline-block",verticalAlign:"middle",width:"100%",marginTop:"calc(100vh - var(--ESBottomSheet-snapPoint))",transition:"none",willChange:"auto","@media print":{overflowY:"visible"},variants:[{props:{isOpen:!0},style:{transition:"margin-top var(--ESBottomSheet-transitionDuration)"}}]}),()=>({marginTop:"calc(100dvh - var(--ESBottomSheet-snapPoint))"})),Le=g("div",{name:"ESBottomSheet",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.paper,i.fullScreen&&t.paperFullScreen]}})(({theme:e})=>({display:"flex",flexDirection:"column",position:"relative",textAlign:"left",width:"100%",minHeight:"100%",boxShadow:e.vars.palette.shadow.up[700],backgroundColor:e.vars.palette.surface[600],paddingBottom:"1px","&::after":{content:"''",position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"4px",borderRadius:"4px",backgroundColor:e.vars.palette.white.A500},"@media print":{boxShadow:"none"},variants:[{props:{isFullHeight:!0},style:{borderTopLeftRadius:16,borderTopRightRadius:16}}]})),$e={enter:$.enteringScreen,exit:$.enteringScreen},Ue=[{point:"60vh",dragThresholds:{up:"15vh",down:"15vh"},activeWhen:{screen:{minHeight:400},paperOverflow:!0}},{point:"100vh",dragThresholds:{up:"0px",down:"15vh"}}],U=e=>{const t={px:l=>l,vh:l=>l/100*window.innerHeight},i=new RegExp(`^([-+]?(?:\\d+(?:\\.\\d+)?))(${Object.keys(t).join("|")})$`,"i"),u=String.prototype.toString.apply(e).trim().match(i);if(u){const l=Number(u[1]),d=u[2].toLocaleLowerCase();if(d in t)return t[d](l)}throw new Error("dragThresholds must be specified in px or vh.")},q=r.forwardRef(function(t,i){const u=we({props:t,name:"MuiBottomSheet"}),{"aria-describedby":l,"aria-labelledby":d,children:S,className:G,disableEscapeKeyDown:J=!1,maxWidth:Q="100%",align:Z="flex-end",onBackdropClick:E,onClose:b,open:v,TransitionComponent:ee=Be,transitionDuration:h=$e,TransitionProps:te,snapPoints:O=Ue,...oe}=u,[f,se]=r.useState(O),[p,H]=r.useState(0),[W,V]=r.useState(!1),[re,A]=r.useState(!1),[ne,I]=r.useState(!1),[w,ae]=r.useState(null),B=r.useRef(null),c=r.useRef(null),n=r.useRef(null),N=r.useRef(null),_=r.useRef(null),ie=Te(d),z=p>=f.length-1,ce=typeof h=="number"?h:h.enter||0,le=a=>{w&&w===a.target?B.current=!0:B.current=!1},ue=a=>{B.current&&(B.current=null,E&&E(a),b&&b(a,"backdropClick"))},pe=()=>{c.current&&A(c.current.scrollTop>0)},F=a=>{const{innerHeight:m,innerWidth:x}=window,R=O.filter(o=>{var j;return o.activeWhen?!(o.activeWhen.paperOverflow&&(((j=N.current)==null?void 0:j.scrollHeight)||0)<=m||o.activeWhen.screen&&(o.activeWhen.screen.minHeight&&m<o.activeWhen.screen.minHeight||o.activeWhen.screen.maxHeight&&m>o.activeWhen.screen.maxHeight||o.activeWhen.screen.minWidth&&x<o.activeWhen.screen.minWidth||o.activeWhen.screen.maxWidth&&x>o.activeWhen.screen.maxWidth)||o.activeWhen.fn&&!o.activeWhen.fn()):!0});H(Math.min(a||p,R.length-1)),se(R)};je("resize",()=>F()),ke(n,()=>{n.current&&n.current.style.setProperty("--client-height",`${n.current.clientHeight}px`)}),Pe(_,a=>{V(a[0].intersectionRatio<1)},{threshold:[1],rootMargin:"-1px 0px 0px"});const me=()=>{V(!1),A(!1),I(!1),F(0)},de=()=>{I(!0)},T=a=>{const m=p+a;m<0?b&&b({},"backdropClick"):(H(Math.min(m,f.length-1)),n.current&&c.current&&(c.current.style.removeProperty("touch-action"),c.current.style.removeProperty("overflow"),n.current.style.removeProperty("margin-top"),n.current.style.removeProperty("transition")))},he=Se(({down:a,swipe:[m,x],movement:[R,o],type:j,event:be})=>{if(!(j[0]!=="t"||!c.current||!n.current||!w)&&w.contains(be.target)&&!re)if(x)T(x===-1?1:-1);else if(a){z&&(o<=0&&(o=0),o>0&&(c.current.style.setProperty("touch-action","none"),c.current.style.setProperty("overflow","hidden")));const k=f[p].point,M=k==="auto"?`min(100dvh, ${n.current.clientHeight}px)`:k;n.current.style.setProperty("transition","none"),n.current.style.setProperty("margin-top",`max(0px, calc(100dvh - ${M} + ${o}px))`)}else{const k=U(f[p].dragThresholds.up),M=U(f[p].dragThresholds.down);o<-k?T(1):o>M?T(-1):(c.current.style.removeProperty("touch-action"),c.current.style.removeProperty("overflow"),n.current.style.removeProperty("transition"),n.current.style.removeProperty("margin-top"))}},{pointer:{touch:!0}});r.useEffect(()=>{if(v){const a=document.body.style.overscrollBehaviorY;return document.body.style.overscrollBehaviorY="contain",()=>{document.body.style.overscrollBehaviorY=a}}},[v]);const fe=r.useMemo(()=>({isFullHeight:W}),[W]),L=f[p].point,ge=L==="auto"?"min(100dvh, var(--client-height))":L,y={...u,align:Z,isFullHeight:W,isLastSnapPoint:z,isOpen:ne},C=Ae(y);return s.jsx(Ie,{ref:i,closeAfterTransition:!0,BackdropComponent:Ne,BackdropProps:{transitionDuration:h},className:ve(C.root,G),disableEscapeKeyDown:J,open:v,style:{"--ESBottomSheet-snapPoint":ge,"--ESBottomSheet-transitionDuration":`${ce}ms`},onClick:ue,onClose:b,...oe,children:s.jsx(ee,{appear:!0,in:v,role:"presentation",timeout:h,...te,children:s.jsx(_e,{ref:c,className:C.container,ownerState:y,onMouseDown:le,onScroll:pe,children:s.jsx(ze,{ref:ae,"aria-describedby":l,"aria-labelledby":ie,className:C.wrapper,ownerState:y,role:"dialog",...he(),children:s.jsx(Fe,{ref:n,className:C.content,ownerState:y,style:{maxWidth:Q},children:s.jsx(qe,{direction:"up",in:v,timeout:h,onEnter:me,onEntered:de,children:s.jsxs(Le,{ref:N,className:C.paper,ownerState:y,children:[s.jsx("div",{ref:_}),s.jsx(Ve.Provider,{value:fe,children:S})]})})})})})})})});try{q.displayName="BottomSheet",q.__docgenInfo={description:"Bottom sheets are surfaces containing supplementary content that are anchored to the bottom of the screen.",displayName:"BottomSheet",props:{classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"Partial<BottomSheetClasses>"}},className:{defaultValue:null,description:"Class applied to the root element.",name:"className",required:!1,type:{name:"string"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},children:{defaultValue:null,description:"Bottom sheet children, usually the included sub-components.",name:"children",required:!1,type:{name:"ReactNode"}},"aria-describedby":{defaultValue:null,description:"The id(s) of the element(s) that describe the dialog.",name:"aria-describedby",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"The id(s) of the element(s) that label the dialog.",name:"aria-labelledby",required:!1,type:{name:"string"}},disableEscapeKeyDown:{defaultValue:{value:"false"},description:"If `true`, hitting escape will not fire the `onClose` callback.",name:"disableEscapeKeyDown",required:!1,type:{name:"boolean"}},maxWidth:{defaultValue:{value:"'100%'"},description:`Determine the max-width of the dialog.
The dialog width grows with the size of the screen.`,name:"maxWidth",required:!1,type:{name:"string"}},align:{defaultValue:{value:"'flex-end'"},description:"Dialog vertical alignment.",name:"align",required:!1,type:{name:"enum",value:[{value:'"flex-end"'},{value:'"stretch"'}]}},onBackdropClick:{defaultValue:null,description:"Callback fired when the backdrop is clicked.",name:"onBackdropClick",required:!1,type:{name:"ReactEventHandler<{}>"}},hideBackdrop:{defaultValue:null,description:"If true, the backdrop is not rendered.",name:"hideBackdrop",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:'Callback fired when the component requests to be closed.\n@param event The event source of the callback.\n@param reason Can be: `"escapeKeyDown"`, `"backdropClick"`.',name:"onClose",required:!1,type:{name:'((event: {}, reason: "backdropClick" | "escapeKeyDown") => void)'}},open:{defaultValue:null,description:"If `true`, the component is shown.",name:"open",required:!0,type:{name:"boolean"}},TransitionComponent:{defaultValue:null,description:"The component used for the transition.",name:"TransitionComponent",required:!1,type:{name:"JSXElementConstructor<TransitionProps & { children: ReactElement<any, any>; }>"}},TransitionProps:{defaultValue:null,description:"Props applied to the transition element.",name:"TransitionProps",required:!1,type:{name:"TransitionProps"}},transitionDuration:{defaultValue:{value:"{ enter: duration.enteringScreen, exit: duration.leavingScreen }"},description:`The duration for the transition, in milliseconds.
You may specify a single timeout for all transitions, or individually with an object.`,name:"transitionDuration",required:!1,type:{name:"number | { appear?: number; enter?: number; exit?: number | undefined; } | { appear?: number | undefined; enter?: number | undefined; exit?: number | undefined; } | undefined"}},snapPoints:{defaultValue:null,description:"The points of the sheet to snap to. Points should be sorted from bottom to top.\n\n`point` The height of the sheet.\n`dragThresholds` Amount of pixels sheet has to move in order to expand or collapse / close.\n`activeWhen` Points are filtered according to the specified rules.\n`activeWhen.screen` The point is active when screen size matches given restraints.\n`activeWhen.paperOverflow` The point is active when paper element scroll height is higher than screen.\n`activeWhen.fn` The point is active when function returns a truthy value.",name:"snapPoints",required:!1,type:{name:"{ point: string; dragThresholds: { up: string; down: string; }; activeWhen?: { screen?: { maxHeight?: number; minHeight?: number; maxWidth?: number | undefined; minWidth?: number | undefined; } | undefined; paperOverflow?: boolean | undefined; fn?: (() => boolean) | undefined; } | undefined; ..."}}}}}catch{}const Ye=e=>e.globals.locale==="en"?"Open":"Открыть",Ke=e=>e.globals.locale==="en"?"Heading":"Заголовок",Xe=e=>e.globals.locale==="en"?"Cancel":"Отмена",Ge=e=>e.globals.locale==="en"?"Create":"Создать",Vt={tags:["autodocs"],component:q,parameters:{references:["BottomSheet"]},argTypes:{snapPoints:{control:{type:"object"}},align:{options:["flex-end","stretch"],control:{type:"select"}},maxWidth:{defaultValue:"100%",control:{type:"text"}},hideBackdrop:{defaultValue:!1,control:{type:"boolean"}}},args:{snapPoints:[{point:"60vh",dragThresholds:{up:"15vh",down:"15vh"},activeWhen:{screen:{minHeight:400},paperOverflow:!0}},{point:"100vh",dragThresholds:{up:"0px",down:"15vh"}}],align:"flex-end"}},P={render:function(t,i){const[u,l]=r.useState(!1),d=()=>{l(!0)},S=()=>{l(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(D,{color:"primary",variant:"contained",onClick:d,children:Ye(i)}),s.jsxs(q,{...t,open:u,onClose:S,children:[s.jsx(Me,{sticky:!0,children:Ke(i)}),s.jsx(De,{children:s.jsx(Oe,{variant:"body200",children:"Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam."})}),s.jsxs(Ee,{sticky:!0,children:[s.jsx(D,{fullWidth:!0,color:"monoA",size:"500",variant:"outlined",onClick:S,children:Xe(i)}),s.jsx(D,{fullWidth:!0,color:"primary",size:"500",variant:"contained",children:Ge(i)})]})]})]})}};var Y,K,X;P.parameters={...P.parameters,docs:{...(Y=P.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  render: function Render(args, context) {
    const [isOpen, setOpen] = useState(false);
    const onOpen = () => {
      setOpen(true);
    };
    const onClose = () => {
      setOpen(false);
    };
    return <>
        <Button color="primary" variant="contained" onClick={onOpen}>
          {getOpenButtonText(context)}
        </Button>
        <BottomSheet {...args} open={isOpen} onClose={onClose}>
          <DialogTitle sticky>{getHeadingText(context)}</DialogTitle>
          <DialogContent>
            <Typography variant="body200">
              Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget
              quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet
              fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac
              consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio,
              dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.
              Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget
              quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet
              fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac
              consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio,
              dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.
              Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget
              quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet
              fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac
              consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio,
              dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.
              Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget
              quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet
              fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac
              consectetur ac, vestibulum at eros. Cras mattis consectetur purus sit amet fermentum. Cras justo odio,
              dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.
              Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget
              quam.
            </Typography>
          </DialogContent>
          <DialogActions sticky>
            <Button fullWidth color="monoA" size="500" variant="outlined" onClick={onClose}>
              {getCancelButtonText(context)}
            </Button>
            <Button fullWidth color="primary" size="500" variant="contained">
              {getCreateButtonText(context)}
            </Button>
          </DialogActions>
        </BottomSheet>
      </>;
  }
}`,...(X=(K=P.parameters)==null?void 0:K.docs)==null?void 0:X.source}}};const At=["Demo"];export{P as Demo,At as __namedExportsOrder,Vt as default};
