import{r as p}from"./index-DIDRz_s2.js";import{c as _}from"./memoTheme-CJcpijc4.js";import{u as H}from"./index-CycuZXML.js";import{g as V,a as W,s as b,c as q,r as B}from"./styled-B0X8gopH.js";import{u as I}from"./useSlot-CFc0_OMk.js";import{j as D}from"./jsx-runtime-BoZ7yaty.js";import{u as J}from"./DefaultPropsProvider-Di_N6kFi.js";import{u as Q}from"./useSlotProps-CexWkmt_.js";import{P as X,a as Y}from"./Popover-C64DOLfh.js";import{M as Z}from"./MenuList-qnTf9CO-.js";function $(s){return W("MuiMenu",s)}const yo=V("MuiMenu",["root","paper","list"]),oo={vertical:"top",horizontal:"right"},to={vertical:"top",horizontal:"left"},so=s=>{const{classes:c}=s;return q({root:["root"],paper:["paper"],list:["list"]},$,c)},ro=b(Y,{shouldForwardProp:s=>B(s)||s==="classes",name:"MuiMenu",slot:"Root"})({}),eo=b(X,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),no=b(Z,{name:"MuiMenu",slot:"List"})({outline:0}),go=p.forwardRef(function(c,w){const R=J({props:c,name:"MuiMenu"}),{autoFocus:u=!0,children:h,className:E,disableAutoFocusItem:m=!1,MenuListProps:f={},onClose:P,open:x,PaperProps:C={},PopoverClasses:N,transitionDuration:F="auto",TransitionProps:{onEntering:M,...L}={},variant:d="selectedMenu",slots:e={},slotProps:a={},...j}=R,y=H(),r={...R,autoFocus:u,disableAutoFocusItem:m,MenuListProps:f,onEntering:M,PaperProps:C,transitionDuration:F,TransitionProps:L,variant:d},g=so(r),O=u&&!m&&x,S=p.useRef(null),T=(o,t)=>{S.current&&S.current.adjustStyleForScrollbar(o,{direction:y?"rtl":"ltr"}),M&&M(o,t)},v=o=>{o.key==="Tab"&&(o.preventDefault(),P&&P(o,"tabKeyDown"))};let l=-1;p.Children.map(h,(o,t)=>{p.isValidElement(o)&&(o.props.disabled||(d==="selectedMenu"&&o.props.selected||l===-1)&&(l=t))});const i={slots:e,slotProps:{list:f,transition:L,paper:C,...a}},K=Q({elementType:e.root,externalSlotProps:a.root,ownerState:r,className:[g.root,E]}),[U,z]=I("paper",{className:g.paper,elementType:eo,externalForwardedProps:i,shouldForwardComponentProp:!0,ownerState:r}),[A,G]=I("list",{className:_(g.list,f.className),elementType:no,shouldForwardComponentProp:!0,externalForwardedProps:i,getSlotProps:o=>({...o,onKeyDown:t=>{var k;v(t),(k=o.onKeyDown)==null||k.call(o,t)}}),ownerState:r}),n=typeof i.slotProps.transition=="function"?i.slotProps.transition(r):i.slotProps.transition;return D.jsx(ro,{onClose:P,anchorOrigin:{vertical:"bottom",horizontal:y?"right":"left"},transformOrigin:y?oo:to,slots:{root:e.root,paper:U,backdrop:e.backdrop,...e.transition&&{transition:e.transition}},slotProps:{root:K,paper:z,backdrop:typeof a.backdrop=="function"?a.backdrop(r):a.backdrop,transition:{...n,onEntering:(...o)=>{var t;T(...o),(t=n==null?void 0:n.onEntering)==null||t.call(n,...o)}}},open:x,ref:w,transitionDuration:F,ownerState:r,...j,classes:N,children:D.jsx(A,{actions:S,autoFocus:u&&(l===-1||m),autoFocusItem:O,variant:d,...G,children:h})})});export{go as M,yo as m};
