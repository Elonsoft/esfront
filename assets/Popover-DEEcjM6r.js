import{r as l}from"./index-DIDRz_s2.js";import{c as no,m as xo}from"./memoTheme-DzcScnLI.js";import{i as Eo}from"./isHostComponent-DVu5iVWx.js";import{g as so,a as io,s as W,j as Q,n as Z,c as ao}from"./styled-QckRPC_l.js";import{u as j}from"./useSlot-CFc0_OMk.js";import{j as k}from"./jsx-runtime-BoZ7yaty.js";import{u as Co}from"./useTheme-ErypeN0Y.js";import{u as lo}from"./DefaultPropsProvider-DX0NN56D.js";import{o as _}from"./ownerDocument-DW-IO8s5.js";import{o as oo}from"./ownerWindow-HkKU3E4x.js";import{d as So}from"./debounce-Be36O1Ab.js";import{G as Ro}from"./Grow-Dt_8BulK.js";import{m as To}from"./mergeSlotProps-CDvdv1-t.js";import{M as ko}from"./Modal-B7qrzaAx.js";function Mo(o){return io("MuiPaper",o)}const Qo=so("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]),Oo=o=>{const{square:t,elevation:r,variant:u,classes:c}=o,a={root:["root",u,!t&&"rounded",u==="elevation"&&`elevation${r}`]};return ao(a,Mo,c)},zo=W("div",{name:"MuiPaper",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(xo(({theme:o})=>({backgroundColor:(o.vars||o).palette.background.paper,color:(o.vars||o).palette.text.primary,transition:o.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:o.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(o.vars||o).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),$o=l.forwardRef(function(t,r){var i;const u=lo({props:t,name:"MuiPaper"}),c=Co(),{className:a,component:d="div",elevation:v=1,square:P=!1,variant:x="elevation",...E}=u,C={...u,component:d,elevation:v,square:P,variant:x},S=Oo(C);return k.jsx(zo,{as:d,ownerState:C,className:no(S.root,a),ref:r,...E,style:{...x==="elevation"&&{"--Paper-shadow":(c.vars||c).shadows[v],...c.vars&&{"--Paper-overlay":(i=c.vars.overlays)==null?void 0:i[v]},...!c.vars&&c.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Q("#fff",Z(v))}, ${Q("#fff",Z(v))})`}},...E.style}})});function jo(o){return io("MuiPopover",o)}so("MuiPopover",["root","paper"]);function to(o,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=o.height/2:t==="bottom"&&(r=o.height),r}function eo(o,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=o.width/2:t==="right"&&(r=o.width),r}function ro(o){return[o.horizontal,o.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function T(o){return typeof o=="function"?o():o}const Wo=o=>{const{classes:t}=o;return ao({root:["root"],paper:["paper"]},jo,t)},Do=W(ko,{name:"MuiPopover",slot:"Root"})({}),Ho=W($o,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Zo=l.forwardRef(function(t,r){const u=lo({props:t,name:"MuiPopover"}),{action:c,anchorEl:a,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:v,anchorReference:P="anchorEl",children:x,className:E,container:C,elevation:S=8,marginThreshold:i=16,open:m,PaperProps:po={},slots:D={},slotProps:R={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:H,transitionDuration:M="auto",TransitionProps:L={},disableScrollLock:O=!1,...co}=u,z=l.useRef(),w={...u,anchorOrigin:d,anchorReference:P,elevation:S,marginThreshold:i,transformOrigin:y,TransitionComponent:H,transitionDuration:M,TransitionProps:L},U=Wo(w),A=l.useCallback(()=>{if(P==="anchorPosition")return v;const e=T(a),n=(e&&e.nodeType===1?e:_(z.current).body).getBoundingClientRect();return{top:n.top+to(n,d.vertical),left:n.left+eo(n,d.horizontal)}},[a,d.horizontal,d.vertical,v,P]),N=l.useCallback(e=>({vertical:to(e,y.vertical),horizontal:eo(e,y.horizontal)}),[y.horizontal,y.vertical]),q=l.useCallback(e=>{const s={width:e.offsetWidth,height:e.offsetHeight},n=N(s);if(P==="none")return{top:null,left:null,transformOrigin:ro(n)};const b=A();let h=b.top-n.vertical,g=b.left-n.horizontal;const V=h+s.height,X=g+s.width,Y=oo(T(a)),J=Y.innerHeight-i,K=Y.innerWidth-i;if(i!==null&&h<i){const p=h-i;h-=p,n.vertical+=p}else if(i!==null&&V>J){const p=V-J;h-=p,n.vertical+=p}if(i!==null&&g<i){const p=g-i;g-=p,n.horizontal+=p}else if(X>K){const p=X-K;g-=p,n.horizontal+=p}return{top:`${Math.round(h)}px`,left:`${Math.round(g)}px`,transformOrigin:ro(n)}},[a,P,A,N,i]),[fo,F]=l.useState(m),f=l.useCallback(()=>{const e=z.current;if(!e)return;const s=q(e);s.top!==null&&e.style.setProperty("top",s.top),s.left!==null&&(e.style.left=s.left),e.style.transformOrigin=s.transformOrigin,F(!0)},[q]);l.useEffect(()=>(O&&window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)),[a,O,f]);const uo=()=>{f()},vo=()=>{F(!1)};l.useEffect(()=>{m&&f()}),l.useImperativeHandle(c,()=>m?{updatePosition:()=>{f()}}:null,[m,f]),l.useEffect(()=>{if(!m)return;const e=So(()=>{f()}),s=oo(T(a));return s.addEventListener("resize",e),()=>{e.clear(),s.removeEventListener("resize",e)}},[a,m,f]);let I=M;const $={slots:{transition:H,...D},slotProps:{transition:L,paper:po,...R}},[G,mo]=j("transition",{elementType:Ro,externalForwardedProps:$,ownerState:w,getSlotProps:e=>({...e,onEntering:(s,n)=>{var b;(b=e.onEntering)==null||b.call(e,s,n),uo()},onExited:s=>{var n;(n=e.onExited)==null||n.call(e,s),vo()}}),additionalProps:{appear:!0,in:m}});M==="auto"&&!G.muiSupportAuto&&(I=void 0);const Po=C||(a?_(T(a)).body:void 0),[B,{slots:ho,slotProps:go,...yo}]=j("root",{ref:r,elementType:Do,externalForwardedProps:{...$,...co},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:D.backdrop},slotProps:{backdrop:To(typeof R.backdrop=="function"?R.backdrop(w):R.backdrop,{invisible:!0})},container:Po,open:m},ownerState:w,className:no(U.root,E)}),[wo,bo]=j("paper",{ref:z,className:U.paper,elementType:Ho,externalForwardedProps:$,shouldForwardComponentProp:!0,additionalProps:{elevation:S,style:fo?void 0:{opacity:0}},ownerState:w});return k.jsx(B,{...yo,...!Eo(B)&&{slots:ho,slotProps:go,disableScrollLock:O},children:k.jsx(G,{...mo,timeout:I,children:k.jsx(wo,{...bo,children:x})})})});export{Ho as P,Zo as a,$o as b,Qo as p};
