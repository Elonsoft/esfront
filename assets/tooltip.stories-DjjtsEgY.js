import{j as l}from"./jsx-runtime-BoZ7yaty.js";import{r as n}from"./index-DIDRz_s2.js";import{c as go,m as _}from"./memoTheme-CJcpijc4.js";import{u as tt}from"./index-CycuZXML.js";import{u as et}from"./useTheme-D4EsW5Cf.js";import{g as rt,a as pt,s as K,c as nt}from"./styled-B0X8gopH.js";import{u as L}from"./useSlot-CFc0_OMk.js";import{u as st}from"./DefaultPropsProvider-Di_N6kFi.js";import{u as I,T as at}from"./useTimeout-BgqVTnbA.js";import{u as it}from"./useControlled-BX5XFdR0.js";import{u as lt}from"./useId-DHFVogFr.js";import{u as To}from"./useEventCallback-B5h_k30D.js";import{u as ct}from"./useForkRef-Cmn-Dh7x.js";import{g as mt}from"./getReactElementRef-BCGM00pR.js";import{G as ut}from"./Grow-xlv4EofS.js";import{P as Oo}from"./Popper-CJR-SmXy.js";import{c as Mo,f as So}from"./identifier-DA8c-tJk.js";import{i as yo}from"./isFocusVisible-B8k4qzLc.js";import{B as wo}from"./Button-Bw7cy9Im.js";import"./_commonjsHelpers-gnU0ypJ3.js";import"./useTheme-B2nYkSwK.js";import"./mergeSlotProps-fp1W1fei.js";import"./appendOwnerState-BTP2NS_9.js";import"./useEnhancedEffect-BGNjlb7u.js";import"./TransitionGroupContext-8frXp1f-.js";import"./index-BqLR6Ykc.js";import"./index-B9nU-LZm.js";import"./ownerDocument-DW-IO8s5.js";import"./Portal-Cdjvc33M.js";import"./useSlotProps-CexWkmt_.js";import"./clsx.m-C7bORDfW.js";import"./useThemeProps-DTzdApbH.js";import"./ButtonBase-C33Z4or-.js";import"./useForkRef-DJnV46t9.js";import"./SvgIcon.classes-C7Fm2IhD.js";function dt(e){return pt("MuiTooltip",e)}const r=rt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function ft(e){return Math.round(e*1e5)/1e5}const ht=e=>{const{classes:o,disableInteractive:p,arrow:m,touch:R,placement:T}=e,X={popper:["popper",!p&&"popperInteractive",m&&"popperArrow"],tooltip:["tooltip",m&&"tooltipArrow",R&&"touch",`tooltipPlacement${Mo(T.split("-")[0])}`],arrow:["arrow"]};return nt(X,dt,o)},gt=K(Oo,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,o)=>{const{ownerState:p}=e;return[o.popper,!p.disableInteractive&&o.popperInteractive,p.arrow&&o.popperArrow,!p.open&&o.popperClose]}})(_(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:o})=>!o.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:o})=>!o,style:{pointerEvents:"none"}},{props:({ownerState:o})=>o.arrow,style:{[`&[data-popper-placement*="bottom"] .${r.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${r.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${r.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${r.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:o})=>o.arrow&&!o.isRtl,style:{[`&[data-popper-placement*="right"] .${r.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:o})=>o.arrow&&!!o.isRtl,style:{[`&[data-popper-placement*="right"] .${r.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:o})=>o.arrow&&!o.isRtl,style:{[`&[data-popper-placement*="left"] .${r.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:o})=>o.arrow&&!!o.isRtl,style:{[`&[data-popper-placement*="left"] .${r.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Tt=K("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,o)=>{const{ownerState:p}=e;return[o.tooltip,p.touch&&o.touch,p.arrow&&o.tooltipArrow,o[`tooltipPlacement${Mo(p.placement.split("-")[0])}`]]}})(_(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:So(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${r.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${r.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${r.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${r.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:o})=>o.arrow,style:{position:"relative",margin:0}},{props:({ownerState:o})=>o.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${ft(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:o})=>!o.isRtl,style:{[`.${r.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${r.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:o})=>!o.isRtl&&o.touch,style:{[`.${r.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${r.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:o})=>!!o.isRtl,style:{[`.${r.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${r.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:o})=>!!o.isRtl&&o.touch,style:{[`.${r.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${r.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:o})=>o.touch,style:{[`.${r.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:o})=>o.touch,style:{[`.${r.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),yt=K("span",{name:"MuiTooltip",slot:"Arrow"})(_(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:So(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let k=!1;const bo=new at;let x={x:0,y:0};function j(e,o){return(p,...m)=>{o&&o(p,...m),e(p,...m)}}const wt=n.forwardRef(function(o,p){const m=st({props:o,name:"MuiTooltip"}),{arrow:R=!1,children:T,classes:X,components:O={},componentsProps:M={},describeChild:Po=!1,disableFocusListener:$o=!1,disableHoverListener:Y=!1,disableInteractive:Co=!1,disableTouchListener:Eo=!1,enterDelay:q=100,enterNextDelay:J=0,enterTouchDelay:Bo=700,followCursor:F=!1,id:Lo,leaveDelay:Q=0,leaveTouchDelay:Io=1500,onClose:Z,onOpen:oo,open:ko,placement:to="bottom",PopperComponent:eo,PopperProps:u={},slotProps:d={},slots:jo={},title:g,TransitionComponent:Ao,TransitionProps:Fo,...ro}=m,f=n.isValidElement(T)?T:l.jsx("span",{children:T}),po=et(),No=tt(),[y,no]=n.useState(),[N,Wo]=n.useState(null),S=n.useRef(!1),W=Co||F,so=I(),D=I(),P=I(),ao=I(),[Do,io]=it({controlled:ko,default:!1,name:"Tooltip",state:"open"});let c=Do;const U=lt(Lo),w=n.useRef(),$=To(()=>{w.current!==void 0&&(document.body.style.WebkitUserSelect=w.current,w.current=void 0),ao.clear()});n.useEffect(()=>$,[$]);const lo=t=>{bo.clear(),k=!0,io(!0),oo&&!c&&oo(t)},C=To(t=>{bo.start(800+Q,()=>{k=!1}),io(!1),Z&&c&&Z(t),so.start(po.transitions.duration.shortest,()=>{S.current=!1})}),E=t=>{S.current&&t.type!=="touchstart"||(y&&y.removeAttribute("title"),D.clear(),P.clear(),q||k&&J?D.start(k?J:q,()=>{lo(t)}):lo(t))},z=t=>{D.clear(),P.start(Q,()=>{C(t)})},[,co]=n.useState(!1),mo=t=>{yo(t.target)||(co(!1),z(t))},uo=t=>{y||no(t.currentTarget),yo(t.target)&&(co(!0),E(t))},fo=t=>{S.current=!0;const i=f.props;i.onTouchStart&&i.onTouchStart(t)},Uo=t=>{fo(t),P.clear(),so.clear(),$(),w.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ao.start(Bo,()=>{document.body.style.WebkitUserSelect=w.current,E(t)})},zo=t=>{f.props.onTouchEnd&&f.props.onTouchEnd(t),$(),P.start(Io,()=>{C(t)})};n.useEffect(()=>{if(!c)return;function t(i){i.key==="Escape"&&C(i)}return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[C,c]);const Vo=ct(mt(f),no,p);!g&&g!==0&&(c=!1);const V=n.useRef(),Go=t=>{const i=f.props;i.onMouseMove&&i.onMouseMove(t),x={x:t.clientX,y:t.clientY},V.current&&V.current.update()},b={},G=typeof g=="string";Po?(b.title=!c&&G&&!Y?g:null,b["aria-describedby"]=c?U:null):(b["aria-label"]=G?g:null,b["aria-labelledby"]=c&&!G?U:null);const s={...b,...ro,...f.props,className:go(ro.className,f.props.className),onTouchStart:fo,ref:Vo,...F?{onMouseMove:Go}:{}},v={};Eo||(s.onTouchStart=Uo,s.onTouchEnd=zo),Y||(s.onMouseOver=j(E,s.onMouseOver),s.onMouseLeave=j(z,s.onMouseLeave),W||(v.onMouseOver=E,v.onMouseLeave=z)),$o||(s.onFocus=j(uo,s.onFocus),s.onBlur=j(mo,s.onBlur),W||(v.onFocus=uo,v.onBlur=mo));const h={...m,isRtl:No,arrow:R,disableInteractive:W,placement:to,PopperComponentProp:eo,touch:S.current},a=typeof d.popper=="function"?d.popper(h):d.popper,Ho=n.useMemo(()=>{var i,ho;let t=[{name:"arrow",enabled:!!N,options:{element:N,padding:4}}];return(i=u.popperOptions)!=null&&i.modifiers&&(t=t.concat(u.popperOptions.modifiers)),(ho=a==null?void 0:a.popperOptions)!=null&&ho.modifiers&&(t=t.concat(a.popperOptions.modifiers)),{...u.popperOptions,...a==null?void 0:a.popperOptions,modifiers:t}},[N,u.popperOptions,a==null?void 0:a.popperOptions]),H=ht(h),_o=typeof d.transition=="function"?d.transition(h):d.transition,B={slots:{popper:O.Popper,transition:O.Transition??Ao,tooltip:O.Tooltip,arrow:O.Arrow,...jo},slotProps:{arrow:d.arrow??M.arrow,popper:{...u,...a??M.popper},tooltip:d.tooltip??M.tooltip,transition:{...Fo,..._o??M.transition}}},[Ko,Xo]=L("popper",{elementType:gt,externalForwardedProps:B,ownerState:h,className:go(H.popper,u==null?void 0:u.className)}),[Yo,qo]=L("transition",{elementType:ut,externalForwardedProps:B,ownerState:h}),[Jo,Qo]=L("tooltip",{elementType:Tt,className:H.tooltip,externalForwardedProps:B,ownerState:h}),[Zo,ot]=L("arrow",{elementType:yt,className:H.arrow,externalForwardedProps:B,ownerState:h,ref:Wo});return l.jsxs(n.Fragment,{children:[n.cloneElement(f,s),l.jsx(Ko,{as:eo??Oo,placement:to,anchorEl:F?{getBoundingClientRect:()=>({top:x.y,left:x.x,right:x.x,bottom:x.y,width:0,height:0})}:y,popperRef:V,open:y?c:!1,id:U,transition:!0,...v,...Xo,popperOptions:Ho,children:({TransitionProps:t})=>l.jsx(Yo,{timeout:po.transitions.duration.shorter,...t,...qo,children:l.jsxs(Jo,{...Qo,children:[g,R?l.jsx(Zo,{...ot}):null]})})})]})}),te={title:"Overrides/Tooltip",parameters:{viewMode:"canvas"}},A={render:(e,{globals:{locale:o}})=>l.jsxs("div",{style:{display:"flex",gap:"12px"},children:[l.jsx(wt,{arrow:!0,placement:"right",title:o==="en"?"Tooltip":"Подсказка",...e,children:l.jsx(wo,{variant:"contained",children:o==="en"?"Button":"Кнопка"})}),l.jsx(wo,{variant:"contained",children:o==="en"?"Button":"Кнопка"})]})};var vo,xo,Ro;A.parameters={...A.parameters,docs:{...(vo=A.parameters)==null?void 0:vo.docs,source:{originalSource:`{
  render: (args, {
    globals: {
      locale
    }
  }) => {
    return <div style={{
      display: 'flex',
      gap: '12px'
    }}>
        <Tooltip arrow placement="right" title={locale === 'en' ? 'Tooltip' : 'Подсказка'} {...args}>
          <Button variant="contained">{locale === 'en' ? 'Button' : 'Кнопка'}</Button>
        </Tooltip>
        <Button variant="contained">{locale === 'en' ? 'Button' : 'Кнопка'}</Button>
      </div>;
  }
}`,...(Ro=(xo=A.parameters)==null?void 0:xo.docs)==null?void 0:Ro.source}}};const ee=["Demo"];export{A as Demo,ee as __namedExportsOrder,te as default};
