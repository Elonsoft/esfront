import{b as po,_ as C,a as c,h as eo}from"./useThemeProps-DJft-tfL.js";import{r as i}from"./index-DIDRz_s2.js";import{c as N}from"./clsx-B-dksMZM.js";import{g as co,a as uo,s as W,c as fo}from"./generateUtilityClasses-D4qQEpRV.js";import{j as O}from"./jsx-runtime-BoZ7yaty.js";import{g as to}from"./getOverlayAlpha-VE_eitC7.js";import{G as Oo}from"./Grow-E4hGvhFy.js";import{u as $o}from"./useForkRef-B4JCUkpP.js";import{o as ro}from"./ownerDocument-DW-IO8s5.js";import{o as no}from"./ownerWindow-HkKU3E4x.js";import{d as Mo}from"./debounce-Be36O1Ab.js";import{u as so}from"./useSlotProps-Dpc6KwLu.js";import{i as ko}from"./appendOwnerState-B9NMWNaQ.js";import{M as So}from"./Modal-RUXrZPLp.js";function _o(o){return uo("MuiPaper",o)}const ne=co("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]),zo=["className","component","elevation","square","variant"],jo=o=>{const{square:e,elevation:t,variant:u,classes:g}=o,v={root:["root",u,!e&&"rounded",u==="elevation"&&`elevation${t}`]};return fo(v,_o,g)},Lo=W("div",{name:"MuiPaper",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(({theme:o,ownerState:e})=>{var t;return c({backgroundColor:(o.vars||o).palette.background.paper,color:(o.vars||o).palette.text.primary,transition:o.transitions.create("box-shadow")},!e.square&&{borderRadius:o.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(o.vars||o).palette.divider}`},e.variant==="elevation"&&c({boxShadow:(o.vars||o).shadows[e.elevation]},!o.vars&&o.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${eo.alpha("#fff",to(e.elevation))}, ${eo.alpha("#fff",to(e.elevation))})`},o.vars&&{backgroundImage:(t=o.vars.overlays)==null?void 0:t[e.elevation]}))}),No=i.forwardRef(function(e,t){const u=po({props:e,name:"MuiPaper"}),{className:g,component:v="div",elevation:x=1,square:$=!1,variant:a="elevation"}=u,m=C(u,zo),R=c({},u,{component:v,elevation:x,square:$,variant:a}),h=jo(R);return O.jsx(Lo,c({as:v,ownerState:R,className:N(h.root,g),ref:t},m))});function Wo(o){return uo("MuiPopover",o)}co("MuiPopover",["root","paper"]);const Do=["onEntering"],Ho=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Uo=["slotProps"];function io(o,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=o.height/2:e==="bottom"&&(t=o.height),t}function ao(o,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=o.width/2:e==="right"&&(t=o.width),t}function lo(o){return[o.horizontal,o.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function L(o){return typeof o=="function"?o():o}const qo=o=>{const{classes:e}=o;return fo({root:["root"],paper:["paper"]},Wo,e)},Ao=W(So,{name:"MuiPopover",slot:"Root",overridesResolver:(o,e)=>e.root})({}),Io=W(No,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),se=i.forwardRef(function(e,t){var u,g,v;const x=po({props:e,name:"MuiPopover"}),{action:$,anchorEl:a,anchorOrigin:m={vertical:"top",horizontal:"left"},anchorPosition:R,anchorReference:h="anchorEl",children:vo,className:mo,container:ho,elevation:D=8,marginThreshold:l=16,open:d,PaperProps:Po={},slots:w,slotProps:T,transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:M=Oo,transitionDuration:k="auto",TransitionProps:{onEntering:H}={},disableScrollLock:S=!1}=x,U=C(x.TransitionProps,Do),go=C(x,Ho),P=(u=T==null?void 0:T.paper)!=null?u:Po,_=i.useRef(),xo=$o(_,P.ref),z=c({},x,{anchorOrigin:m,anchorReference:h,elevation:D,marginThreshold:l,externalPaperSlotProps:P,transformOrigin:E,TransitionComponent:M,transitionDuration:k,TransitionProps:U}),q=qo(z),A=i.useCallback(()=>{if(h==="anchorPosition")return R;const r=L(a),s=(r&&r.nodeType===1?r:ro(_.current).body).getBoundingClientRect();return{top:s.top+io(s,m.vertical),left:s.left+ao(s,m.horizontal)}},[a,m.horizontal,m.vertical,R,h]),I=i.useCallback(r=>({vertical:io(r,E.vertical),horizontal:ao(r,E.horizontal)}),[E.horizontal,E.vertical]),F=i.useCallback(r=>{const n={width:r.offsetWidth,height:r.offsetHeight},s=I(n);if(h==="none")return{top:null,left:null,transformOrigin:lo(s)};const Y=A();let b=Y.top-s.vertical,y=Y.left-s.horizontal;const J=b+n.height,K=y+n.width,Q=no(L(a)),Z=Q.innerHeight-l,oo=Q.innerWidth-l;if(l!==null&&b<l){const p=b-l;b-=p,s.vertical+=p}else if(l!==null&&J>Z){const p=J-Z;b-=p,s.vertical+=p}if(l!==null&&y<l){const p=y-l;y-=p,s.horizontal+=p}else if(K>oo){const p=K-oo;y-=p,s.horizontal+=p}return{top:`${Math.round(b)}px`,left:`${Math.round(y)}px`,transformOrigin:lo(s)}},[a,h,A,I,l]),[bo,G]=i.useState(d),f=i.useCallback(()=>{const r=_.current;if(!r)return;const n=F(r);n.top!==null&&(r.style.top=n.top),n.left!==null&&(r.style.left=n.left),r.style.transformOrigin=n.transformOrigin,G(!0)},[F]);i.useEffect(()=>(S&&window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)),[a,S,f]);const yo=(r,n)=>{H&&H(r,n),f()},Ro=()=>{G(!1)};i.useEffect(()=>{d&&f()}),i.useImperativeHandle($,()=>d?{updatePosition:()=>{f()}}:null,[d,f]),i.useEffect(()=>{if(!d)return;const r=Mo(()=>{f()}),n=no(a);return n.addEventListener("resize",r),()=>{r.clear(),n.removeEventListener("resize",r)}},[a,d,f]);let B=k;k==="auto"&&!M.muiSupportAuto&&(B=void 0);const Eo=ho||(a?ro(L(a)).body:void 0),j=(g=w==null?void 0:w.root)!=null?g:Ao,V=(v=w==null?void 0:w.paper)!=null?v:Io,wo=so({elementType:V,externalSlotProps:c({},P,{style:bo?P.style:c({},P.style,{opacity:0})}),additionalProps:{elevation:D,ref:xo},ownerState:z,className:N(q.paper,P==null?void 0:P.className)}),X=so({elementType:j,externalSlotProps:(T==null?void 0:T.root)||{},externalForwardedProps:go,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:Eo,open:d},ownerState:z,className:N(q.root,mo)}),{slotProps:To}=X,Co=C(X,Uo);return O.jsx(j,c({},Co,!ko(j)&&{slotProps:To,disableScrollLock:S},{children:O.jsx(M,c({appear:!0,in:d,onEntering:yo,onExited:Ro,timeout:B},U,{children:O.jsx(V,c({},wo,{children:vo}))}))}))});export{Io as P,se as a,No as b,ne as p};
