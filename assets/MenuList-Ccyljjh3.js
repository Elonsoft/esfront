import{b as H,_ as D,a as C}from"./useThemeProps-DJft-tfL.js";import{r as u}from"./index-DIDRz_s2.js";import{a as N,g as U,s as _,c as A}from"./generateUtilityClasses-D4qQEpRV.js";import{j as M}from"./jsx-runtime-BoZ7yaty.js";import{u as O}from"./useEnhancedEffect-BGNjlb7u.js";import{g as $}from"./getScrollbarSize-Bqq2hMjQ.js";import{o as R}from"./ownerDocument-DW-IO8s5.js";import{u as z}from"./useForkRef-B4JCUkpP.js";import{c as W}from"./clsx-B-dksMZM.js";const B=u.createContext({});function V(t){return N("MuiList",t)}U("MuiList",["root","padding","dense","subheader"]);const q=["children","className","component","dense","disablePadding","subheader"],G=t=>{const{classes:e,disablePadding:s,dense:p,subheader:c}=t;return A({root:["root",!s&&"padding",p&&"dense",c&&"subheader"]},V,e)},J=_("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,!s.disablePadding&&e.padding,s.dense&&e.dense,s.subheader&&e.subheader]}})(({ownerState:t})=>C({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Q=u.forwardRef(function(e,s){const p=H({props:e,name:"MuiList"}),{children:c,className:g,component:d="ul",dense:n=!1,disablePadding:m=!1,subheader:b}=p,x=D(p,q),w=u.useMemo(()=>({dense:n}),[n]),v=C({},p,{component:d,dense:n,disablePadding:m}),f=G(v);return M.jsx(B.Provider,{value:w,children:M.jsxs(J,C({as:d,className:W(f.root,g),ref:s,ownerState:v},x,{children:[b,c]}))})}),X=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function L(t,e,s){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:s?null:t.firstChild}function S(t,e,s){return t===e?s?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:s?null:t.lastChild}function I(t,e){if(e===void 0)return!0;let s=t.innerText;return s===void 0&&(s=t.textContent),s=s.trim().toLowerCase(),s.length===0?!1:e.repeating?s[0]===e.keys[0]:s.indexOf(e.keys.join(""))===0}function y(t,e,s,p,c,g){let d=!1,n=c(t,e,e?s:!1);for(;n;){if(n===t.firstChild){if(d)return!1;d=!0}const m=p?!1:n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||!I(n,g)||m)n=c(t,n,s);else return n.focus(),!0}return!1}const ae=u.forwardRef(function(e,s){const{actions:p,autoFocus:c=!1,autoFocusItem:g=!1,children:d,className:n,disabledItemsFocusable:m=!1,disableListWrap:b=!1,onKeyDown:x,variant:w="selectedMenu"}=e,v=D(e,X),f=u.useRef(null),F=u.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});O(()=>{c&&f.current.focus()},[c]),u.useImperativeHandle(p,()=>({adjustStyleForScrollbar:(r,{direction:i})=>{const l=!f.current.style.width;if(r.clientHeight<f.current.clientHeight&&l){const h=`${$(R(r))}px`;f.current.style[i==="rtl"?"paddingLeft":"paddingRight"]=h,f.current.style.width=`calc(100% + ${h})`}return f.current}}),[]);const K=r=>{const i=f.current,l=r.key,h=R(i).activeElement;if(l==="ArrowDown")r.preventDefault(),y(i,h,b,m,L);else if(l==="ArrowUp")r.preventDefault(),y(i,h,b,m,S);else if(l==="Home")r.preventDefault(),y(i,null,b,m,L);else if(l==="End")r.preventDefault(),y(i,null,b,m,S);else if(l.length===1){const o=F.current,k=l.toLowerCase(),E=performance.now();o.keys.length>0&&(E-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&k!==o.keys[0]&&(o.repeating=!1)),o.lastTime=E,o.keys.push(k);const T=h&&!o.repeating&&I(h,o);o.previousKeyMatched&&(T||y(i,h,!1,m,L,o))?r.preventDefault():o.previousKeyMatched=!1}x&&x(r)},P=z(f,s);let a=-1;u.Children.forEach(d,(r,i)=>{if(!u.isValidElement(r)){a===i&&(a+=1,a>=d.length&&(a=-1));return}r.props.disabled||(w==="selectedMenu"&&r.props.selected||a===-1)&&(a=i),a===i&&(r.props.disabled||r.props.muiSkipListHighlight||r.type.muiSkipListHighlight)&&(a+=1,a>=d.length&&(a=-1))});const j=u.Children.map(d,(r,i)=>{if(i===a){const l={};return g&&(l.autoFocus=!0),r.props.tabIndex===void 0&&w==="selectedMenu"&&(l.tabIndex=0),u.cloneElement(r,l)}return r});return M.jsx(Q,C({role:"menu",ref:P,className:n,onKeyDown:K,tabIndex:c?0:-1},v,{children:j}))});export{Q as L,ae as M,B as a};
