import{j as c}from"./jsx-runtime-BoZ7yaty.js";import{r as m}from"./index-DIDRz_s2.js";import{c as p}from"./clsx.m-C7bORDfW.js";import{g as b,a as n}from"./Avatar.classes-Er26cif2.js";import{b as q,c as v}from"./useThemeProps-DJft-tfL.js";import{s as g,c as S}from"./generateUtilityClasses-D4qQEpRV.js";import{s as C}from"./SvgIcon.classes-CqsHNf3G.js";const w=e=>{const{classes:a,variant:t="square",outlined:s}=e,r={root:["root",`variant${v(t)}`,s&&"outlined"],image:["image"]};return S(r,b,a)};function N(e){const[a,t]=m.useState(null);return m.useEffect(()=>{if(!e)return;t(null);let s=!0;const r=new Image;return r.onload=()=>{s&&t("loaded")},r.onerror=()=>{s&&t("error")},r.src=e,()=>{s=!1}},[e]),a}const R=g("div",{name:"ESAvatar",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:{variant:t,outlined:s}}=e;return[a.root,a[`variant${v(t)}`],s&&a.outlined]}})(({theme:e,ownerState:{size:a}})=>({...e.typography.body100,height:`${a}px`,width:`${a}px`,backgroundColor:e.vars.palette.monoA.A100,backgroundSize:"100%",flexShrink:0,textAlign:"center",objectFit:"cover",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",color:e.vars.palette.monoA.A500,[`& .${C.root}`]:{color:e.vars.palette.monoA.A400},[`&.${n.variantSquare}`]:{borderRadius:"8px"},[`&.${n.variantCircle}`]:{borderRadius:"50%"},[`&.${n.outlined}`]:{position:"relative","&::after":{content:'""',position:"absolute",inset:0,pointerEvents:"none",borderRadius:"inherit",border:`1px solid ${e.vars.palette.monoA.A100}`}}})),V=g("img",{name:"ESAvatar",slot:"Image",overridesResolver:(e,a)=>[a.image]})({width:"100%",height:"100%"}),f=e=>{const{className:a,children:t,variant:s="square",src:r,alt:i,size:h=40,outlined:y=!1,...l}=q({props:e,name:"ESAvatar"}),d={...l,variant:s,size:h,outlined:y},u=w(d),A=N(r||"")==="loaded",x=r?A:!1;let o=null;return x?o=c.jsx(V,{className:p(a,u.image),src:r}):t||t===0?o=t:r&&i&&(o=i),c.jsx(R,{className:p(a,u.root),ownerState:d,...l,children:o})};try{f.displayName="Avatar",f.__docgenInfo={description:"Avatar is used to represent users or things.",displayName:"Avatar",props:{children:{defaultValue:null,description:"Used to render icon or text elements inside the `Avatar` if `src` is not set.",name:"children",required:!1,type:{name:"ReactNode"}},classes:{defaultValue:null,description:"Override or extend the styles applied to the component.",name:"classes",required:!1,type:{name:"Partial<AvatarClasses>"}},sx:{defaultValue:null,description:"The system prop that allows defining system overrides as well as additional CSS styles.",name:"sx",required:!1,type:{name:"SxProps<Theme>"}},className:{defaultValue:null,description:"Class applied to the root element.",name:"className",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"square"},description:"Determines border variant of avatar.",name:"variant",required:!1,type:{name:"enum",value:[{value:'"circle"'},{value:'"square"'}]}},size:{defaultValue:{value:"40"},description:"Avatar size.",name:"size",required:!1,type:{name:"number"}},src:{defaultValue:null,description:"The `src` attribute for the `img` element.",name:"src",required:!1,type:{name:"string"}},alt:{defaultValue:null,description:"The `alt` attribute for the `img` element.",name:"alt",required:!1,type:{name:"string"}},outlined:{defaultValue:null,description:"Determines if the avatar should be outlined.",name:"outlined",required:!1,type:{name:"boolean"}}}}}catch{}export{f as A};
